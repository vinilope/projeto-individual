<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página Inicial - Pokéspot</title>
    <link rel="icon" href="assets/img/icon/tab-icon-pkb.gif">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/pokedex.css">
</head>

<body>
    <header>
        <div class="container">
            <div class="logo">
                <a href="index.html"><img src="assets/img/icon/logo_pkspt.png" alt=""></a>
            </div>
            <div id="container_cadastro" class="container-cadastro-btn">
            </div>
        </div>
    </header>

    <div id="side_menu" class="sideMenu display-none-on-start">
        <ul class="menu-item">
            <li><a href="index.html">
                    <img src="assets/img/icon/down-arrow-gray.png" class="down-arrow">
                    <span>Início</span>
            </a></li>
            <li><a href="pokedex.html">
                    <img src="assets/img/icon/down-arrow-gray.png" class="down-arrow">
                    <span>Pokedéx</span>
            </a></li>
            <li><a href="ajuda.html">
                    <img src="assets/img/icon/down-arrow-gray.png" class="down-arrow">
                    <span>Ajuda</span>
            </a></li>
        </ul>
        <ul id="account_ul" class="account-ul">
        </ul>
    </div>

    <section id="section_pkb" class="section-pkb">
        <div id="div_pkb" class="container-pkb">
            <div class="pkb-white"></div>
            <div class="black-strip">
                <button class="pkb-btn" onclick="iniciarComPokebola()">
                    <div class="pkb-circle"></div>
                </button>
            </div>
        </div>
    </section>

    <main class="display-none-on-start" id="main_container">
        <div id="inicio"></div>
        <section id="ranking-section">
            <div class="ranking-wrap px-border">
                <h3 class="titulo-ranking"><img src="assets/img/icon/down-arrow-white.png" alt="">Top 10 jogadores</h3>
                <ul id="ranking" class="ranking-list">
                    
                </ul>
            </div>
        </section>
        <section>
            <div class="content-wrap px-border">
                <div class="titulo">
                    <h1>Bem-vindo ao Mundo Pokémon!</h1>
                </div>
                <div class="introducao">
                    <span>Criado em 1996, o mundo dos Pokémon facinou e conquistou o mundo todo. Desde seu lançamento seu sucesso é exponencial, em sua trajetória encantando pessoas, fortalecendo vínculos e criando novas amizades. Neste site, explore um pouco de sua história, investigue este vasto mundo e colecione os seus próprios! <b style="color: rgb(134, 4, 4)">Gotta catch'em all!</b></span>

                    <img src="assets/img/prof/oak-prof.png" alt="">
                </div>
            </div>
        </section>

        <section class="gamefreak-section px-border">
            <div class="titulo">
                <h1>Como Surgiu</h1>
            </div>
            <div class="texto">
                <span>Em sua infância, o principal hobbie de Satoshi Tajiri era caçar insetos. Sua mãe não o deixava ter animais de estimação, então passava seu tempo desbravando vales e florestas para colecionar os pequenos. Conforme foi crescendo, notou que tais áreas verdes foram sendo substituidas por estacionamentos e prédios: a sua pequena cidade sofria com a urbanização. Queria, porém, que as crianças também tivesse a experiência que teve, o sentimento de aventura e a satisfação em colecionar pequenos seres. Idealizou, assim, os Pocket Monsters, ou Pokémon.</span>
            </div>
        </section>

        <section class="timeline-section px-border">
            <div class="titulo">
                <h1>Linha do Tempo Principais Jogos</h1>
            </div>
            <div class="timeline">
                <img src="assets/img/cover/timeline.png" alt="">
            </div>
            <div>
                <span class="year" id="ano1">1996</span>
                <span class="year" id="ano2">1998</span>
                <span class="year" id="ano3">1999</span>
                <span class="year" id="ano4">2002</span>
                <span class="year" id="ano5">2004</span>
            </div>
        </section>

        <section class="galeria-section">
            <div class="titulo">
                <h1>Líderes de Ginásio</h1>
            </div>
            <div class="pkmn-galeria ">
                <ul id="leaders_lista">
                </ul>
            </div>
        </section>

        <section class="kanto-section px-border">
            <div class="titulo">
                <h1>Mapa de Kanto</h1>
            </div>
            <img src="assets/img/misc/kanto.png" alt="">
        </section>

        <section class="text-section">
            <div class="content-wrap px-border">
                <div class="text">
                    <img src="assets/img/prof/juniper-prof.png" alt="">
                    <div class="text-item">
                        <div class="titulo">
                            <h1>Impacto</h1>
                        </div>
                        <span>Pokémon não foi um simples RPG da época. Seu propósito era inovador, com o foco sempre na exploração e na aventura proporcionada ao jogador, também criou um sistema único de trocas entre jogadores, criando muitas amizades!</span>
                    </div>
                </div>
            </div>
        </section>

        <section class="tradutor-section px-border">
            <div class="tradutor-wrap">
                <div class="titulo">
                    <h1>Os Unowns</h1>
                </div>
                <span>Introduzido na segunda geração dos jogos, os unowns são Pokémons míticos e misteriosos. Habitando em ruínas, possuem 28 formas diferentes que formam um alfabeto único. Faça parte do mistério e investigue também! Insira abaixo uma frase que queira traduzir.</span>
                <input id="texto" type="text">
                <button class="btn px-border" onclick="traduzir()">Traduzir</button><br><br>
                <div id="div_unown"></div>
            </div>
            <img src="assets/img/misc/ruinas.gif" alt="">
        </section>
    </main>

    <footer class="display-none-on-start" id="footer_container">
        <div class="display-none-on-start" id="container_pkmn"><img id="pkmn" class="following-pkmn"
                src="https://img.pokemondb.net/sprites/sword-shield/icon/charmander.png"></div>
        <div class="container">
            <div class="logo">
                <img src="assets/img/icon/logo_pkspt.png" alt="">
                <img id="sptech" src="assets/img/icon/sptech-pixelart.png" alt="">
            </div>
        </div>
    </footer>
</body>

</html>
<script src="scripts/navegacao_geral.js"></script>
<script src="scripts/navbar_login.js"></script>
<script src="scripts/pkmn_follows.js"></script>
<script src="scripts/tradutor.js"></script>

<script>
    if (sessionStorage.ID_USUARIO || sessionStorage.EXIBIR_POKEBOLA) {
        iniciarSemPokebola();
    }
    buscarRankingUsuario()

    var lideresGinasio = [
        'Brock',
        'Misty',
        'Lt. Surge',
        'Erika',
        'Koga',
        'Sabrina',
        'Blaine',
        'Giovanni'
    ]

    for (let i = 0; i < lideresGinasio.length; i++) {
        leaders_lista.innerHTML += `
            <li>
                <div class="pokemon-card">
                    <span class="titulo-id">${i+1}</span>
                    <span class="titulo-nome">${lideresGinasio[i]}</span>
                    <img src="assets/img/leaders/${lideresGinasio[i]}.png" alt="">
                </div>
            </li>
        `;
    }

    function iniciarComPokebola() {
        sessionStorage.EXIBIR_POKEBOLA = true;
        elementos = document.querySelectorAll('.display-none-on-start')
        div_pkb.style.transform = 'rotate(90deg)';

        setTimeout(() => {
            div_pkb.style.marginLeft = '-109%';
            main_container.style.display = 'flex';
            footer_container.style.display = 'flex';
            container_pkmn.style.display = 'flex';
            side_menu.style.display = 'block';
            setTimeout(() => {
                for (var i = 0; i < elementos.length; i += 1) {
                    elementos[i].style.visibility = 'visible';
                    elementos[i].style.opacity = '1';
                }
                section_pkb.style.display = 'none';
            }, 500);
        }, 1000);
    }

    function iniciarSemPokebola() {
        elementos = document.querySelectorAll('.display-none-on-start')
        div_pkb.style.transform = 'rotate(90deg)';

        div_pkb.style.marginLeft = '-109%';
        main_container.style.display = 'flex';
        footer_container.style.display = 'flex';
        container_pkmn.style.display = 'flex';
        side_menu.style.display = 'block';

        for (var i = 0; i < elementos.length; i += 1) {
            elementos[i].style.visibility = 'visible';
            elementos[i].style.opacity = '1';
        }
        section_pkb.style.display = 'none';
    }

        
   function buscarRankingUsuario() {
        fetch("/analytics/buscarRankingUsuario", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            }
        }).then(function (resposta) {
            if (resposta.ok) {
                console.log(resposta);

                resposta.json().then(json => {
                    var users = json.user
                    popularRanking(users)
                });

            } else {
                console.log("Houve um erro ao tentar realizar o login!");

                resposta.text().then(texto => {
                    console.error(texto);
                });
            }

        }).catch(function (erro) {
            console.log(erro);
        })
    }

    function popularRanking(users) {
        for (let i = 0; i < users.length; i++) {
            ranking.innerHTML += 
                `<li>
                    <h3><span class="hashtag">#</span>${i+1}</h3>
                    <span class="nome-ranking">${users[i].nome}</span>
                    <span class="qtd-poke-ranking">${users[i].qtd} <small>pokémon</small></span>
                </li>`;
        }
    }

</script>